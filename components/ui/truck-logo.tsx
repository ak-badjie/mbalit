'use client';

import React from 'react';
import { motion } from 'framer-motion';

interface TruckLogoProps {
    size?: 'sm' | 'md' | 'lg';
    showText?: boolean;
    className?: string;
}

// Static truck logo for nav bar and general use
export const TruckLogo: React.FC<TruckLogoProps> = ({
    size = 'md',
    showText = true,
    className = '',
}) => {
    const dimensions = {
        sm: { width: 32, height: 28, textSize: 'text-xs' },
        md: { width: 48, height: 42, textSize: 'text-sm' },
        lg: { width: 80, height: 70, textSize: 'text-lg' },
    };

    const { width, height, textSize } = dimensions[size];

    return (
        <div className={`flex flex-col items-center ${className}`}>
            <svg
                width={width}
                height={height}
                viewBox="0 -84.4 367.054 198.254"
                xmlns="http://www.w3.org/2000/svg"
            >
                <defs>
                    <style>{`.logo-a{fill:#10b981;}.logo-b{fill:#047857;}.logo-c{fill:#6ee7b7;}`}</style>
                </defs>
                <path className="logo-a" d="M112.3,85.721c-.03-10.9-.06-21.784-.088-31.982-.092,0-.144,0-.144,0a5.834,5.834,0,0,0-5.851-5.813H46.371a8.963,8.963,0,0,0-3.8.748,10.292,10.292,0,0,0-3.725,3.305c-8.6,11.635-22.68,32.524-30.414,45.643A20.748,20.748,0,0,0,5.1,108.008c-.051,12.664-.232,24.338-.343,40.214A2,2,0,0,0,2.462,150.2c-.007,3.485-.042,7.429-.07,12.5a8,8,0,0,0,7.961,8.04c8.249.038,18.679.1,19.962.1l70.528.177c1.721,0,4.95,0,11.65-.007C112.5,162.6,112.4,124.133,112.3,85.721Z" />
                <path className="logo-a" d="M66.131,33.494C60,37.077,54.65,40.288,51.293,42.444A9.2,9.2,0,0,0,47,47.927c14.48,0,46.34,0,59.217,0a5.834,5.834,0,0,1,5.851,5.813h.144c-.044-15.86-.085-30.047-.114-39.973l-3.085-.214a25.62,25.62,0,0,0-3.965,0,20.852,20.852,0,0,0-8.487,2.683C87.74,21.077,75.938,27.762,66.131,33.494Z" />
                <path className="logo-a" d="M319.648,171.019c6.927,0,17.7-.018,40.939-.014a4,4,0,0,0,4-4c-.024-40.925-.191-123.86-.216-160.526a3.989,3.989,0,0,0-3.994-3.99c-30.264,0-214.715-.045-244.307-.05a3.986,3.986,0,0,0-3.993,4c.087,30.7.425,149.04.419,164.575,32.34-.025,123.415-.086,133.071-.079" />
                <path className="logo-b" d="M283.6,141.688A27.641,27.641,0,0,0,255.41,169.7c0,16.9,11.769,28.541,28.19,28.541,17.053,0,28.189-11.748,28.189-28.541C311.789,154.494,300.207,141.688,283.6,141.688Z" />
                <path className="logo-a" d="M283.6,160.583a9.171,9.171,0,0,0-9.353,9.3c0,5.608,3.905,9.47,9.354,9.47,5.658,0,9.353-3.9,9.353-9.47A9.164,9.164,0,0,0,283.6,160.583Z" />
                <path className="logo-b" d="M65.3,141.688A27.641,27.641,0,0,0,37.107,169.7c0,16.9,11.769,28.541,28.19,28.541,17.053,0,28.189-11.748,28.189-28.541C93.486,154.494,81.905,141.688,65.3,141.688Z" />
                <path className="logo-a" d="M65.3,160.583a9.171,9.171,0,0,0-9.353,9.3c0,5.608,3.905,9.47,9.354,9.47,5.658,0,9.353-3.9,9.353-9.47A9.164,9.164,0,0,0,65.3,160.583Z" />
                <path className="logo-c" d="M97.554,63.061a3.767,3.767,0,0,0-3.768-3.748c-11.15-.012-27.447-.067-37.267-.067a9.9,9.9,0,0,0-4.021.667A9.971,9.971,0,0,0,48.992,63.3c-5.839,7.869-15.45,22.295-23.223,34.561a5.84,5.84,0,0,0,6.245,8.819C52.2,102.034,78.373,96.138,94.87,92.154a3.667,3.667,0,0,0,2.806-3.587C97.638,80.715,97.582,69.024,97.554,63.061Z" />
            </svg>
            {showText && (
                <span
                    className={`font-bold text-emerald-600 mt-1 tracking-wide ${textSize}`}
                    style={{ fontFamily: "var(--font-outfit), 'Outfit', sans-serif" }}
                >
                    MBALIT
                </span>
            )}
        </div>
    );
};

// Animated truck logo for loading screen
export const AnimatedTruckLogo: React.FC<{ className?: string }> = ({ className = '' }) => {
    return (
        <div className={`flex flex-col items-center ${className}`}>
            <svg
                width="200"
                height="140"
                viewBox="-100 -84.4 600 367.054"
                xmlns="http://www.w3.org/2000/svg"
            >
                <defs>
                    <style>{`
                        .a { fill: #10b981; }
                        .b { fill: #047857; }
                        .c { fill: #6ee7b7; }
                        .wind { fill: none; stroke: #10b981; stroke-width: 4; stroke-linecap: round; opacity: 0; }
                        
                        .truck-body {
                            animation: bounce 0.6s ease-in-out infinite alternate;
                        }
                        @keyframes bounce {
                            from { transform: translateY(0px); }
                            to { transform: translateY(-3px); }
                        }

                        .wheel {
                            animation: spin 0.3s linear infinite;
                        }
                        
                        #front-wheel { transform-origin: 65.3px 170.2px; }
                        #back-wheel { transform-origin: 283.6px 170.2px; }

                        @keyframes spin {
                            from { transform: rotate(0deg); }
                            to { transform: rotate(360deg); }
                        }

                        .wind-lines path {
                            animation: wind-blow 1s linear infinite;
                        }
                        .wind-lines path:nth-child(2) { animation-delay: 0.2s; animation-duration: 0.8s; }
                        .wind-lines path:nth-child(3) { animation-delay: 0.5s; animation-duration: 1.2s; }

                        @keyframes wind-blow {
                            0% { transform: translateX(200px); opacity: 0; stroke-dasharray: 20 200;}
                            30% { opacity: 1; }
                            100% { transform: translateX(-300px); opacity: 0; stroke-dasharray: 100 200; }
                        }
                    `}</style>
                </defs>

                {/* Wind lines */}
                <g className="wind-lines">
                    <path className="wind" d="M380,20 h100" />
                    <path className="wind" d="M380,80 h150" />
                    <path className="wind" d="M380,130 h80" />
                </g>

                {/* Truck body group */}
                <g className="truck-body">
                    <path className="a" d="M112.3,85.721c-.03-10.9-.06-21.784-.088-31.982-.092,0-.144,0-.144,0a5.834,5.834,0,0,0-5.851-5.813H46.371a8.963,8.963,0,0,0-3.8.748,10.292,10.292,0,0,0-3.725,3.305c-8.6,11.635-22.68,32.524-30.414,45.643A20.748,20.748,0,0,0,5.1,108.008c-.051,12.664-.232,24.338-.343,40.214A2,2,0,0,0,2.462,150.2c-.007,3.485-.042,7.429-.07,12.5a8,8,0,0,0,7.961,8.04c8.249.038,18.679.1,19.962.1l70.528.177c1.721,0,4.95,0,11.65-.007C112.5,162.6,112.4,124.133,112.3,85.721Z" />
                    <path className="a" d="M66.131,33.494C60,37.077,54.65,40.288,51.293,42.444A9.2,9.2,0,0,0,47,47.927c14.48,0,46.34,0,59.217,0a5.834,5.834,0,0,1,5.851,5.813h.144c-.044-15.86-.085-30.047-.114-39.973l-3.085-.214a25.62,25.62,0,0,0-3.965,0,20.852,20.852,0,0,0-8.487,2.683C87.74,21.077,75.938,27.762,66.131,33.494Z" />
                    <path className="a" d="M319.648,171.019c6.927,0,17.7-.018,40.939-.014a4,4,0,0,0,4-4c-.024-40.925-.191-123.86-.216-160.526a3.989,3.989,0,0,0-3.994-3.99c-30.264,0-214.715-.045-244.307-.05a3.986,3.986,0,0,0-3.993,4c.087,30.7.425,149.04.419,164.575,32.34-.025,123.415-.086,133.071-.079" />

                    {/* Window */}
                    <path className="c" d="M97.554,63.061a3.767,3.767,0,0,0-3.768-3.748c-11.15-.012-27.447-.067-37.267-.067a9.9,9.9,0,0,0-4.021.667A9.971,9.971,0,0,0,48.992,63.3c-5.839,7.869-15.45,22.295-23.223,34.561a5.84,5.84,0,0,0,6.245,8.819C52.2,102.034,78.373,96.138,94.87,92.154a3.667,3.667,0,0,0,2.806-3.587C97.638,80.715,97.582,69.024,97.554,63.061Z" />

                    {/* Details */}
                    <path className="b" d="M7.161,147.686q.08-11.109.205-22.217.047-4.776.086-9.552.019-2.364.032-4.73a34.121,34.121,0,0,1,.16-5.117c.516-3.238,2.144-6.054,3.8-8.822q2.1-3.5,4.285-6.957,5.136-8.154,10.53-16.144,5.112-7.612,10.413-15.1c1.494-2.1,2.916-4.347,4.6-6.3a6.275,6.275,0,0,1,3.58-2.3,17.867,17.867,0,0,1,3.337-.121h56.763a5.285,5.285,0,0,1,3.174.574,3.471,3.471,0,0,1,1.531,2.839c.1,3.081,4.9,3.1,4.8,0a8.367,8.367,0,0,0-5.34-7.672c-2.124-.826-4.609-.541-6.851-.541H52.059c-2.234,0-4.541-.16-6.767.05-4.043.382-6.626,2.616-8.949,5.774-3.56,4.837-7,9.762-10.393,14.717q-5.688,8.31-11.156,16.77c-3.277,5.081-6.832,10.186-9.543,15.6A23.876,23.876,0,0,0,2.694,109.4q-.026,5.131-.073,10.263c-.065,7.255-.148,14.51-.211,21.765q-.027,3.127-.049,6.255c-.022,3.089,4.778,3.093,4.8,0Z" />
                    <path className="b" d="M99.954,63.061a6.33,6.33,0,0,0-2.535-4.939,7.628,7.628,0,0,0-4.847-1.21q-5.273-.008-10.544-.02-10.73-.024-21.459-.043c-3.36,0-7.344-.5-10.233,1.562-2.571,1.834-4.324,4.88-6.133,7.425-4.239,5.96-8.311,12.039-12.329,18.15q-3.274,4.98-6.486,10c-1.859,2.91-3.709,5.745-2.6,9.339a8.354,8.354,0,0,0,7,5.844,15.3,15.3,0,0,0,5.144-.7l5.29-1.213c14.811-3.391,29.631-6.746,44.425-10.21q4.65-1.091,9.3-2.2c1.7-.408,3.335-.811,4.548-2.174a6.929,6.929,0,0,0,1.58-4.948q-.051-10.352-.1-20.7-.011-1.978-.019-3.958c-.015-3.087-4.815-3.094-4.8,0q.042,8.89.085,17.779.01,2.379.023,4.758c0,1.015.359,2.779-.165,3.641-.509.837-2.026.881-2.909,1.092q-2.087.5-4.175.994c-13.281,3.142-26.59,6.165-39.894,9.2q-5.084,1.161-10.167,2.325l-4.87,1.117a6.4,6.4,0,0,1-3.531.281,3.486,3.486,0,0,1-2.1-4.435,23.573,23.573,0,0,1,2.424-3.943Q31.331,93.6,32.8,91.34q5.745-8.861,11.707-17.578c1.665-2.423,3.347-4.834,5.069-7.216.749-1.036,1.472-2.114,2.314-3.078a4.7,4.7,0,0,1,3.624-1.794c2.869-.163,5.781-.025,8.654-.02q4.936.007,9.872.02l10.2.023c3.115.006,6.261-.118,9.373.016a1.408,1.408,0,0,1,1.54,1.348C95.306,66.136,100.107,66.154,99.954,63.061Z" />
                    <path className="b" d="M319.648,173.419q16.588,0,33.176-.014c2.42,0,4.842.014,7.263,0a6.737,6.737,0,0,0,5.346-2.237c2.127-2.524,1.551-6.135,1.548-9.213q-.006-9.068-.018-18.134-.026-21.29-.061-42.578-.034-22.416-.07-44.833-.03-19.4-.053-38.8,0-3.889-.008-7.777c0-3.291.2-6.751-2.985-8.757C361.4-.432,357.8.086,355.059.086l-19.618,0L307.954.076,275.328.07,239.876.062,204.312.055,171.352.048,143.305.042l-20.4,0c-2.168,0-4.337-.02-6.5,0a6.542,6.542,0,0,0-6.723,6.6c-.017,1.506.009,3.014.013,4.521q.037,13.1.074,26.2l.1,34.54q.051,18.345.1,36.69.042,16.557.083,33.114.027,11.67.048,23.341,0,2.986.006,5.972a2.435,2.435,0,0,0,2.4,2.4l24.665-.018,31.7-.022,32.763-.02q13.647-.007,27.294-.015,7.909,0,15.818,0h.834c3.088,0,3.093-4.8,0-4.8q-6.979,0-13.96,0l-26.21.014-32.444.02-32.145.021-25.886.019-2.426,0,2.4,2.4q0-8.046-.025-16.091-.029-14.231-.066-28.46-.045-17.612-.092-35.224l-.1-35.924q-.042-15.5-.087-31L114.492,12.5l-.014-4.764a3.6,3.6,0,0,1,.335-2.3,2.106,2.106,0,0,1,1.884-.6l15.583,0,24.312,0,30.231.006L221,4.858l35.252.008,34,.007,30.281.006,24.1.005c5.164,0,10.331-.057,15.494,0,2.507.029,1.847,3.069,1.848,4.823q0,3.814.008,7.627.009,8.927.022,17.852.029,21,.064,42.01.035,22.077.067,44.154.029,19.281.048,38.563l0,4.026c0,1.075.321,2.774-.137,3.751-.65,1.388-2.717.912-3.919.912H351.09q-10,0-20.01.007-5.716,0-11.432.007c-3.088,0-3.094,4.8,0,4.8Z" />

                    {/* Back wheel */}
                    <g className="wheel" id="back-wheel">
                        <path className="b" d="M283.6,141.688A27.641,27.641,0,0,0,255.41,169.7c0,16.9,11.769,28.541,28.19,28.541,17.053,0,28.189-11.748,28.189-28.541C311.789,154.494,300.207,141.688,283.6,141.688Z" />
                        <path className="a" d="M283.6,160.583a9.171,9.171,0,0,0-9.353,9.3c0,5.608,3.905,9.47,9.354,9.47,5.658,0,9.353-3.9,9.353-9.47A9.164,9.164,0,0,0,283.6,160.583Z" />
                    </g>

                    {/* Front wheel */}
                    <g className="wheel" id="front-wheel">
                        <path className="b" d="M65.3,141.688A27.641,27.641,0,0,0,37.107,169.7c0,16.9,11.769,28.541,28.19,28.541,17.053,0,28.189-11.748,28.189-28.541C93.486,154.494,81.905,141.688,65.3,141.688Z" />
                        <path className="a" d="M65.3,160.583a9.171,9.171,0,0,0-9.353,9.3c0,5.608,3.905,9.47,9.354,9.47,5.658,0,9.353-3.9,9.353-9.47A9.164,9.164,0,0,0,65.3,160.583Z" />
                    </g>
                </g>
            </svg>
            <motion.span
                initial={{ opacity: 0, y: 10 }}
                animate={{ opacity: 1, y: 0 }}
                transition={{ delay: 0.3, duration: 0.5 }}
                className="font-bold text-3xl text-emerald-600 mt-3 tracking-widest"
                style={{ fontFamily: "var(--font-outfit), 'Outfit', sans-serif" }}
            >
                MBALIT
            </motion.span>
        </div>
    );
};

// Loading screen component
interface LoadingScreenProps {
    onComplete?: () => void;
    duration?: number;
}

export const LoadingScreen: React.FC<LoadingScreenProps> = ({
    onComplete,
    duration = 2000,
}) => {
    const [isVisible, setIsVisible] = React.useState(true);

    React.useEffect(() => {
        const timer = setTimeout(() => {
            setIsVisible(false);
            onComplete?.();
        }, duration);

        return () => clearTimeout(timer);
    }, [duration, onComplete]);

    if (!isVisible) return null;

    return (
        <motion.div
            initial={{ opacity: 1 }}
            exit={{ opacity: 0 }}
            transition={{ duration: 0.5 }}
            className="fixed inset-0 z-[100] flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-teal-50 dark:from-gray-950 dark:via-gray-900 dark:to-emerald-950"
        >
            <motion.div
                initial={{ scale: 0.8, opacity: 0 }}
                animate={{ scale: 1, opacity: 1 }}
                transition={{ duration: 0.5, type: 'spring' }}
            >
                <AnimatedTruckLogo />
            </motion.div>
        </motion.div>
    );
};

export default TruckLogo;
